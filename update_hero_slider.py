import os
import re

# –ü–∞–ø–∫–∞ —Å html
base_dir = "/Users/johnsky/Documents/balthomes.ru"

# –ù–æ–≤—ã–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ (–ø—É—Ç–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Ä–Ω—è —Å–∞–π—Ç–∞)
new_images = []
for i in range(1, 9):
    # –î–æ–±–∞–≤–ª—è–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –≤–µ—Ä—Å–∏–π, —á—Ç–æ–±—ã —Å–±–∏—Ç—å –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞
    new_images.append(f'images/hero-main/photo_{i}.jpg?v=2')

# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º HTML –¥–ª—è –Ω–æ–≤—ã—Ö 8 –∫–∞—Ä—Ç–∏–Ω–æ–∫ (–±–µ–∑ –∫–ª–∞—Å—Å–∞ active, —Ç–∞–∫ –∫–∞–∫ –ø–µ—Ä–≤–∞—è –±—É–¥–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π)
new_slides_html = '\n                '.join([
    f'<img src="{img}" class="hero-slider-img" alt="–≠–ª–∏—Ç–Ω–∞—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥">' 
    for img in new_images
])

# –§–∞–π–ª—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
files = ['index.html', 'en.html', 'de.html', 'zh.html']

for filename in files:
    filepath = os.path.join(base_dir, filename)
    if not os.path.exists(filepath):
        print(f"‚ö†Ô∏è –§–∞–π–ª {filename} –Ω–µ –Ω–∞–π–¥–µ–Ω")
        continue
        
    with open(filepath, 'r', encoding='utf-8') as f:
        content = f.read()
        
    # –†–µ–≥—É–ª—è—Ä–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫:
    # 1. –ó–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞—á–∞–ª–æ –±–ª–æ–∫–∞ –∏ –ü–ï–†–í–£–Æ –∫–∞—Ä—Ç–∏–Ω–∫—É (–≥—Ä—É–ø–ø–∞ 1)
    # 2. –ó–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ –¥–æ –±–µ–π–¥–∂–∏–∫–∞ (–≥—Ä—É–ø–ø–∞ 2 - —ç—Ç–æ –º—ã —É–¥–∞–ª–∏–º/–∑–∞–º–µ–Ω–∏–º)
    # 3. –ó–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –±–µ–π–¥–∂–∏–∫ (–≥—Ä—É–ø–ø–∞ 3 - –æ—Å—Ç–∞–≤–∏–º)
    
    # –ò—â–µ–º: <div class="hero-img"> ... <img ...> (–ø–µ—Ä–≤–∞—è)
    pattern = r'(<div class="hero-img">\s*<img[^>]+>)(.*?)(<div class="float-badge">)'
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º
    if not re.search(pattern, content, re.DOTALL):
        print(f"‚ö†Ô∏è –í —Ñ–∞–π–ª–µ {filename} –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–ª–∞–π–¥–µ—Ä–∞")
        continue
        
    # –ó–∞–º–µ–Ω—è–µ–º: –ì—Ä—É–ø–ø–∞ 1 (–ø–µ—Ä–≤–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞) + –ù–æ–≤—ã–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ + –ì—Ä—É–ø–ø–∞ 3 (–±–µ–π–¥–∂–∏–∫)
    # –ì—Ä—É–ø–ø–∞ 2 (—Å—Ç–∞—Ä—ã–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏) –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è
    new_content = re.sub(
        pattern, 
        f'\\1\n                {new_slides_html}\n                \\3', 
        content, 
        flags=re.DOTALL
    )
    
    # –°–æ—Ö—Ä–∞–Ω—è–µ–º
    with open(filepath, 'w', encoding='utf-8') as f:
        f.write(new_content)
        
    print(f"‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω {filename}: –æ—Å—Ç–∞–≤–ª–µ–Ω–∞ 1-—è —Ñ–æ—Ç–æ + –¥–æ–±–∞–≤–ª–µ–Ω–æ 8 –Ω–æ–≤—ã—Ö")

print("üéâ –í—Å–µ –≥–æ—Ç–æ–≤–æ!")
