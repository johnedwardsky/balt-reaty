const bannerConfig = {
    "type": "video",
    "videoUrl": "https://kinescope.io/akSwB2asqm2qYrz69Ysas5"
};

const propertiesData = [
    {
        "description": {
            "de": "Zum Verkauf steht ein modernes geräumiges Haus im Eliteviertel Malinovka der Stadt Zelenogradsk. Der Baustil verbindet klassische baltische Ästhetik mit modernen Materialien. Panoramaverglasung, hohe Decken, durchdachte Raumaufteilung.",
            "en": "Offered for sale is a modern spacious house in the elite district of Malinovka, Zelenogradsk. The architectural style combines classical Baltic aesthetics and modern materials. Panoramic glazing, high ceilings, thoughtful layout. Wide sandy beaches and promenade within walking distance.",
            "ru": "Предлагается к продаже современный просторный дом в элитном районе Малиновка города Зеленоградска. Архитектурный стиль сочетает классическую балтийскую эстетику и современные материалы. Панорамное остекление, высокие потолки, продуманная планировка. В шаговой доступности широкие песчаные пляжи и променад.",
            "zh": "位于泽列诺格勒茨克马林诺夫卡精英区的现代化宽敞房屋。建筑风格结合了经典的波罗的海美学和现代材料。全景玻璃、高天花板、精心布局。"
        },
        "detailsLink": {
            "de": "object-4-de.html",
            "en": "object-4-en.html",
            "ru": "object-4.html",
            "zh": "object-4-zh.html"
        },
        "features": [
            "Первая линия",
            "Газовое отопление",
            "Видеонаблюдение",
            "Ландшафтный дизайн"
        ],
        "id": 4,
        "images": [
            "images/object-4/photo_1.jpg",
            "images/object-4/814d948e7ad4e8939d452684b37263c4b68abe18.jpeg",
            "images/object-4/4cfa815347be059d9e285ade79301a20b2f4c055.jpeg",
            "images/object-4/3fe6e2febc44ad1f94c191bf42ea09f959fce13b.jpeg",
            "images/object-4/2a4faec833bfe2c3732039a0c7ca943b890542e1.jpeg",
            "images/object-4/4d37e476fb463fc1e267db3305e48f5706ab7247.jpeg",
            "images/object-4/5e0913094815ca2c95123fa413f244fd9290bdd5.jpeg",
            "images/object-4/7e292719e400d98a8c7845d1387bd9f9ae1c9eb9.jpeg",
            "images/object-4/7e2505280f4bf35eadf4dd84bcb25fdd1fe2e578.jpeg",
            "images/object-4/aecd6d3f16b8101ffa530266a9d49ce74c3b0e53.jpeg",
            "images/object-4/8e8cbd2f3a7379cd80142354be5648fffe1c1ca1.jpeg",
            "images/object-4/9b69243599d60d1a16137508ca0a54258a2742bd.jpeg",
            "images/object-4/40ce538f766d8d942277b5ce1e975fab2d24d021.jpeg",
            "images/object-4/41e5c99fbfd60ac97c91103fd94a8178c24cb8c9.jpeg",
            "images/object-4/0e256bf6e9ffd673239a732d2d60c28b337e4426.jpeg",
            "images/object-4/84baad128657cebc82175d46b0fb24496e5d767f.jpeg",
            "images/object-4/86e593cb8d659cd46354f1d72f66c2d3483b88cc.jpeg",
            "images/object-4/219ae9bea8675092c054a7bca372df9da4fda1da.jpeg",
            "images/object-4/247db3a6f9eb67c84cd59a0af037cdfdd120ef02.jpeg",
            "images/object-4/742a88244f4d6361e092f3a2621adf3a294f2810.jpeg",
            "images/object-4/6071f708eac41e22c64454673c67508db3dbf818.jpeg",
            "images/object-4/626731e218b070d73a2a98b91344a32247bbff4d.jpeg",
            "images/object-4/17e5689c3206ddff465450a9416d10c08c099235.jpeg",
            "images/object-4/7110312f43c56263627bce0dccf704852d7fd182.jpeg",
            "images/object-4/73351644b6fb24b7af3dbf7b0b9a53d16681c2d4.jpeg",
            "images/object-4/b3bb98dbf9b77c2b5a5a3956d2e00618949b5cd5.jpeg",
            "images/object-4/b5b80dcebb1d55791e1e147dc1dc8ea184166d6e.jpeg",
            "images/object-4/bbaf574faf37de3eee905227a9d2380bae07a43a.jpeg",
            "images/object-4/bde0d546c64abfc3106b859744421383773e6026.jpeg",
            "images/object-4/c56de23c57c8a08b5a2bc6f98e74fe91c5947291.jpeg",
            "images/object-4/cd39344d2b23904220b0e3b1a6a56f35fcdbe014.jpeg",
            "images/object-4/d2f9d1f36faa0ba0357f9a4e8d8f3eadfe769d20.jpeg",
            "images/object-4/d5a8fb71cf9c421ab80187bded3f4985ed6e4ba4.jpeg",
            "images/object-4/d6e6d80b8706b2e99497214008f73e29c944ca74.jpeg",
            "images/object-4/e4f4b504782025904bddf70bb38a2085e174380c.jpeg",
            "images/object-4/e5e8076d1e373358b82f6b40e941c40637a8016c.jpeg",
            "images/object-4/ef2200a98b92ee8f7c13acb52e12491fe38cd30a.jpeg",
            "images/object-4/fb46dafe69f4de66af9f57c2ca85b868faf80243.jpeg",
            "images/object-4/fb2994f4ed0726c8e8ee972e36e93fade12291c2.jpeg",
            "images/object-4/ffd2197acf7289ba905339f1b8d6c9b92da43c2b.jpeg"
        ],
        "location": {
            "de": "Zelenogradsk, Malinovka",
            "en": "Zelenogradsk, Malinovka",
            "ru": "Зеленоградск, Район Малиновка",
            "zh": "马林诺夫卡"
        },
        "mapUrl": "",
        "price": {
            "de": "€ 275.000*",
            "en": "€ 275,000*",
            "ru": "27 500 000 ₽",
            "zh": "¥ 2,100,000*"
        },
        "specs": {
            "de": {
                "Area": "",
                "Floors": "",
                "Plot": "",
                "Rooms": ""
            },
            "en": {
                "Area": "",
                "Floors": "",
                "Plot": "",
                "Rooms": ""
            },
            "ru": {
                "Area": "",
                "Floors": "",
                "Plot": "",
                "Rooms": ""
            },
            "zh": {
                "Area": "",
                "Floors": "",
                "Plot": "",
                "Rooms": ""
            }
        },
        "stats": {
            "de": "300 m² | 8.5 Ar",
            "en": "300 m² | Plot 8.5",
            "ru": "300 м² | Участок 8.5 сот.",
            "zh": "300平 | 8.5亩"
        },
        "title": {
            "de": "Haus in Zelenogradsk (Malinovka)",
            "en": "House in Zelenogradsk (Malinovka)",
            "ru": "Дом в Зеленоградске (Малиновка)",
            "zh": "泽列诺格勒茨克的房子"
        }
    },
    {
        "description": {
            "de": "Moderne Wohnung in einem der beliebtesten Viertel der Stadt. Gute Aufteilung nach zwei Seiten, geräumige Wohnküche, autonome Heizung. Hausbaujahr 2018.",
            "en": "Modern apartment in one of the most popular districts of the city. Good layout on two sides, spacious kitchen-living room, autonomous heating. House built in 2018. Modern playgrounds in the courtyard, near a new school and kindergarten.",
            "ru": "Продается уютная квартира формата «заезжай и живи» с качественным современным ремонтом и экономичным автономным отоплением в монолитном доме с бесшумным лифтом Schindler. Вас ждет комфорт и низкие коммунальные платежи, ухоженный подъезд, паркинг и развитая инфраструктура: рядом школа №57, ТЦ «Гиант» и фитнес-центр «Альбатрос». Удобная транспортная развязка позволяет выехать на Окружную за 3 минуты, добраться до центра за 15, а до моря всего за полчаса. Мебель и техника остаются по согласованию — звоните, чтобы оценить все преимущества лично!",
            "zh": "位于该市最受欢迎的地区的现代公寓。双面布局合理，宽敞的厨卫，自主采暖。2018年建成的房屋。院子里的现代化游乐场，靠近新学校和幼儿园。"
        },
        "detailsLink": {
            "de": "object-10-de.html",
            "en": "object-10-en.html",
            "ru": "object-10.html",
            "zh": "object-10-zh.html"
        },
        "features": [
            "Автономное отопление",
            "Новый дом",
            "Рядом школа",
            "С ремонтом"
        ],
        "id": 10,
        "images": [
            "images/object-10/0d23698358648b08dc7f35e8aa76f057555dd020.jpeg",
            "images/object-10/9072412442bb8dac65219ffa728da1e12cf515a4.jpeg",
            "images/object-10/b7f1f5d0400daddc5a489d02d3adaf2d17b44868.jpeg",
            "images/object-10/4ae186842b98bc20694c972d03e749ad8c6c0162.jpeg",
            "images/object-10/4ea59bd48cebea652d1bb2a2d46952d89a2ffd9e.jpeg",
            "images/object-10/5ff03086e71d512a057078b99e2e730524d8dcf0.jpeg",
            "images/object-10/6d25e6ec6583883db1600f807a95d1656343bff2.jpeg",
            "images/object-10/7ad241776a1898f36c3ca95950fd9b44003d0c5b.jpeg",
            "images/object-10/7ae532b7894729d5df43b30197ac948013d3cef6.jpeg",
            "images/object-10/31b92d6d5cef53e8f6500e8f92abb5df62b3576e.jpeg",
            "images/object-10/305e8d1b85c83ca5c5dcde82517832286a288b61.jpeg",
            "images/object-10/391efdc6cf6ad0d08f5148cbd0bccadd1286441b.jpeg",
            "images/object-10/461fc8b5e6d9d189b6651d3178317a382f7cec77.jpeg",
            "images/object-10/607ab10288ceb2252e24361f5683bd9c175ca58c.jpeg",
            "images/object-10/4737e414c7e52d25051b30eae8247abfbd73f774.jpeg",
            "images/object-10/7341f3ff9c2c36aa12c7641cba4db88c6360dfe8.jpeg",
            "images/object-10/7905bc973ed1f9829d28cad1f16ba1986d9afd82.jpeg",
            "images/object-10/fb8b214a8efe823ba149abd7c5caa48a599795a2.jpeg",
            "images/object-10/47815d0241d8466c8c353cbe9fb44aa7339bd116.jpeg",
            "images/object-10/69802f9f67e092e379f0a484acf38c9cd259d9bc.jpeg",
            "images/object-10/a1dd76561ec9294640e4de5349929e1b2ee8bad3.jpeg",
            "images/object-10/ab88234bf5e3dc97fa6a5d76eb4945dd5c576639.jpeg",
            "images/object-10/b5a8ac8bceb96d74809dad18456a031aa9c63c56.jpeg",
            "images/object-10/bdc97d563982654c20107313644511332c716ed7.jpeg",
            "images/object-10/c185ca10073be2c9f2ba802dd9752ccd93af3067.jpeg",
            "images/object-10/e7c8e3878d143b2253e713ef63532a77306a83ac.jpeg",
            "images/object-10/f789ce70d46acc7ccffca4de6cbc727e47412a20.jpeg"
        ],
        "location": {
            "de": "Kaliningrad, Aksakova str.",
            "en": "Kaliningrad, Aksakova str.",
            "ru": "Калининград, ул. Аксакова, 133",
            "zh": "加里宁格勒"
        },
        "mapUrl": "",
        "price": {
            "de": "€ 86.500*",
            "en": "€ 86,500*",
            "ru": "8 650 000 ₽",
            "zh": "¥ 665,000*"
        },
        "specs": {
            "de": {
                "Area": "",
                "Floors": "",
                "Plot": "",
                "Rooms": ""
            },
            "en": {
                "Area": "",
                "Floors": "",
                "Plot": "",
                "Rooms": ""
            },
            "ru": {
                "Area": "",
                "Floors": "",
                "Plot": "",
                "Rooms": "",
                "area": "",
                "balcony": "",
                "entrance": "",
                "floor": "",
                "heating": "",
                "renovation": "",
                "rooms": ""
            },
            "zh": {
                "Area": "",
                "Floors": "",
                "Plot": "",
                "Rooms": ""
            }
        },
        "stats": {
            "de": "64 m² | 5. Stock",
            "en": "64 m² | 5/9 floor",
            "ru": "64 м² | 5/9 этаж",
            "zh": "64平 | 5/9层"
        },
        "title": {
            "de": "2-Zi Wohnung, 64m², Aksakova str.",
            "en": "2-room Apt, 64m², Aksakova str.",
            "ru": "2-к квартира, 64м², ул. Аксакова",
            "zh": "两室公寓，64平米"
        },
        "type": "apartment"
    },
    {
        "description": {
            "de": "Gemütliche und helle Wohnung in einer Gegend mit entwickelter Infrastruktur. Backsteinhaus mit hervorragender Wärme- und Schalldämmung. In der Wohnung wurden kosmetische Reparaturen durchgeführt.",
            "en": "Cozy and bright apartment in an area with developed infrastructure. Brick house providing excellent thermal and sound insulation. The apartment has undergone cosmetic repairs, communications have been replaced.",
            "ru": "Продается уютная 1-комнатная квартира 37,5 м² в Московском районе с качественным свежим ремонтом и полностью замененными коммуникациями. Вся мебель и техника остаются новым владельцам — идеальный вариант «заходи и живи» без вложений. Дом расположен в развитой локации: во дворе школа №56 и детские сады, рядом магазины и остановки, удобный выезд к морю. Квартира юридически чиста, один взрослый собственник — быстрая и безопасная сделка гарантирована!",
            "zh": "位于基础设施发达地区的温馨明亮的公寓。砖房提供极佳的隔热和隔音效果。公寓进行了美容维修，更换了通讯设施。无论是自住还是出租的完美选择。"
        },
        "detailsLink": {
            "de": "object-11-de.html",
            "en": "object-11-en.html",
            "ru": "object-11.html",
            "zh": "object-11-zh.html"
        },
        "features": [
            "Кирпичный дом",
            "Зеленый двор",
            "Рядом супермаркет",
            "Хорошая транспортная развязка"
        ],
        "id": 11,
        "images": [],
        "location": {
            "de": "Kaliningrad, Gaydara str.",
            "en": "Kaliningrad, Gaydara str.",
            "ru": "Калининград, ул. Гайдара, 114",
            "zh": "加里宁格勒"
        },
        "mapUrl": "",
        "price": {
            "de": "€ 62.000*",
            "en": "€ 62,000*",
            "ru": "6 200 000 ₽",
            "zh": "¥ 476,000*"
        },
        "specs": {
            "de": {
                "area": "",
                "balcony": "",
                "entrance": "",
                "floor": "",
                "heating": "",
                "renovation": "",
                "rooms": ""
            },
            "en": {
                "area": "",
                "balcony": "",
                "entrance": "",
                "floor": "",
                "heating": "",
                "renovation": "",
                "rooms": ""
            },
            "ru": {
                "area": "",
                "balcony": "",
                "entrance": "",
                "floor": "",
                "heating": "",
                "renovation": "",
                "rooms": ""
            },
            "zh": {
                "area": "",
                "balcony": "",
                "entrance": "",
                "floor": "",
                "heating": "",
                "renovation": "",
                "rooms": ""
            }
        },
        "stats": {
            "de": "65 m² | 5. Stock",
            "en": "65 m² | 5/5 floor",
            "ru": "65 м² | 5/5 этаж",
            "zh": "65平 | 5/5层"
        },
        "title": {
            "de": "2-Zi Wohnung, 65m², Gaydara str.",
            "en": "2-room Apt, 65m², Gaydara str.",
            "ru": "2-к квартира, 65м², ул. Гайдара",
            "zh": "两室公寓，65平米"
        },
        "type": "apartment"
    },
    {
        "description": {
            "de": "Wohnung in einer modernen Wohnanlage der Komfortklasse. Hochwertige 'graue Schlüssel' Veredelung, die jedes Designprojekt ermöglicht. Die Fenster blicken in einen ruhigen Innenhof.",
            "en": "Apartment in a modern comfort-class residential complex. High-quality 'gray key' finishing, allowing to implement any design project. Windows overlook a quiet courtyard. The territory of the complex is fenced.",
            "ru": "Продается видовая 2-комнатная квартира 65 м² с автономным отоплением и высокими потолками 2,85 м в престижном ЖК «Королевские ворота». Выполнен стильный ремонт с теплыми полами, остается вся мебель и техника — наслаждайтесь панорамой на реку и стадион сразу после переезда. Дом расположен в тихой зеленой зоне у исторического вала, при этом в шаговой доступности супермаркеты, кафе и транспорт.\n",
            "zh": "舒适级现代住宅楼群内的公寓。优质的'灰色钥匙'交付，允许实施任何设计项目。窗户朝向安静的院子。楼群区域封闭，设有视频监控。"
        },
        "detailsLink": {
            "de": "object-12-de.html",
            "en": "object-12-en.html",
            "ru": "object-12.html",
            "zh": "object-12-zh.html"
        },
        "features": [
            "Огороженная территория",
            "Видеодомофон",
            "Панорамный вид",
            "Бесшумный лифт"
        ],
        "id": 12,
        "images": [
            "images/object-12/0f6524458c2fcb85b09f6c8266b99ab8c4a20695.jpeg",
            "images/object-12/0faabf0c065ff00cdbcad2883c0a3c12e69dfde1.jpeg",
            "images/object-12/4df673a5ef084c62e376edf827affd190cc1ea9d.jpeg",
            "images/object-12/12ee697c75e273a4232da4621d87663511212429.jpeg",
            "images/object-12/86ddc291751507c022ee0a1ae696c2e05e6706d9.jpeg",
            "images/object-12/625e4881cbc2c838df048f175bb7c9fb63f69f36.jpeg",
            "images/object-12/748c951719aa7a40e25842c3ac6530230cdaa711.jpeg",
            "images/object-12/971a3e921f22755de96b1ad06cd8955fd26aa758.jpeg",
            "images/object-12/6366209cba133174bc9a4e5b5266604fcf4d95a9.jpeg",
            "images/object-12/9945064c984b5e5192ac4ed75062eaace3609ae9.jpeg",
            "images/object-12/a6abccb18f9ccf62bdde16e6925c91bde6507976.jpeg",
            "images/object-12/a40b1f0182d017efbef62be5b234e715d8b15a0e.jpeg",
            "images/object-12/a2458696be6c0f628c1983ab0dc2ad3d589a41c9.jpeg",
            "images/object-12/bd101bc9be7fce214a0b7c8afa87b48be4ed5b07.jpeg",
            "images/object-12/de9f6734dae54a32bacebaaec0384dc4d97a2526.jpeg"
        ],
        "location": {
            "de": "Kaliningrad, Gagarina str.",
            "en": "Kaliningrad, Gagarina str.",
            "ru": "Калининград, ул. Гагарина, 2ак2",
            "zh": "加里宁格勒"
        },
        "mapUrl": "",
        "price": {
            "de": "€ 86.500*",
            "en": "€ 86,500*",
            "ru": "8 650 000 ₽",
            "zh": "¥ 665,000*"
        },
        "specs": {
            "de": {
                "Area": "",
                "Floors": "",
                "Plot": "",
                "Rooms": ""
            },
            "en": {
                "Area": "",
                "Floors": "",
                "Plot": "",
                "Rooms": ""
            },
            "ru": {
                "Area": "",
                "Floors": "",
                "Plot": "",
                "Rooms": "",
                "area": "",
                "balcony": "",
                "entrance": "",
                "floor": "",
                "heating": "",
                "renovation": "",
                "rooms": ""
            },
            "zh": {
                "Area": "",
                "Floors": "",
                "Plot": "",
                "Rooms": ""
            }
        },
        "stats": {
            "de": "65 m² | 8. Stock",
            "en": "65 m² | 8/10 floor",
            "ru": "65 м² | 8/10 этаж",
            "zh": "65平 | 8/10层"
        },
        "title": {
            "de": "2-Zi Wohnung, 65m², Gagarina str.",
            "en": "2-room Apt, 65m², Gagarina str.",
            "ru": "2-к квартира, 65м², ул. Гагарина",
            "zh": "两室公寓，65平米"
        },
        "type": "apartment"
    },
    {
        "description": {
            "de": "Exklusive Wohnung in Svetlogorsk-1. Geräumiges Zimmer, große Küche mit Zugang zur Loggia. Blick auf den Kiefernwald. Moderner Aufzug im Haus installiert.",
            "en": "Exclusive apartment in Svetlogorsk-1. Spacious room, large kitchen with access to the loggia. View of the pine forest. Modern elevator installed in the house. 15 minutes walking distance to the sea shore.",
            "ru": "Продается стильная 1-комнатная квартира 42,5 м² в Светлогорске с дизайнерским ремонтом, автономным отоплением и заказной мебелью из Польши. Вся брендовая техника остается, обеспечивая комфорт формата «заезжай и живи» в теплом кирпичном доме. Локация сочетает тишину яблоневого сада с развитой инфраструктурой: рядом ФОК с бассейном, школа и супермаркеты. До моря всего 10 минут на авто, а удобная развязка позволяет быстро добраться до соседних курортов и Калининграда.",
            "zh": "位于斯韦特洛戈尔斯克1区的独家公寓。房间宽敞，厨房大，带阳台。俯瞰松树林。房屋配有现代电梯，楼道干净整洁。步行到海边只需15分钟。"
        },
        "detailsLink": {
            "de": "object-13-de.html",
            "en": "object-13-en.html",
            "ru": "object-13.html",
            "zh": "object-13-zh.html"
        },
        "features": [
            "Вид на лес",
            "Мансардные окна",
            "Рядом с морем",
            "Охраняемая парковка"
        ],
        "id": 13,
        "images": [
            "https://images.unsplash.com/photo-1460317442991-0ec209397118?auto=format&fit=crop&w=800&q=80"
        ],
        "location": {
            "de": "Svetlogorsk, Molodezhnaya str.",
            "en": "Svetlogorsk, Molodezhnaya str.",
            "ru": "Светлогорск, ул. Молодежная, 6к2",
            "zh": "斯韦特洛戈尔斯克"
        },
        "price": {
            "de": "€ 86.500*",
            "en": "€ 86,500*",
            "ru": "8 650 000 ₽",
            "zh": "¥ 665,000*"
        },
        "stats": {
            "de": "48.7 m² | 6. Stock",
            "en": "48.7 m² | 6/6 floor",
            "ru": "48.7 м² | 6/6 этаж",
            "zh": "48.7平 | 6/6层"
        },
        "title": {
            "de": "1-Zi Wohnung, 48m², Svetlogorsk",
            "en": "1-room Apt, 48m², Svetlogorsk",
            "ru": "1-к квартира, 48м², Светлогорск",
            "zh": "一室公寓，48平米"
        },
        "type": "apartment",
        "specs": {
            "ru": {
                "area": "",
                "floor": "",
                "rooms": "",
                "entrance": "",
                "balcony": "",
                "heating": "",
                "renovation": ""
            }
        },
        "mapUrl": ""
    },
    {
        "description": {
            "de": "Premium-Apartments in fußläufiger Entfernung zum Tikhoe-See. Designer-Renovierung mit teuren Materialien, Möbel und Geräte bleiben erhalten.",
            "en": "Premium apartments within walking distance from Lake Tikhoe. Designer renovation using expensive materials, furniture and appliances remain. Ideal place for rest or high-yield rental.",
            "ru": "Апартаменты премиум-класса в шаговой доступности от озера Тихое. Дизайнерский ремонт с использованием дорогих материалов, мебель и техника остаются. Идеальное место для отдыха или высокодоходной аренды.",
            "zh": "距离提赫湖步行距离内的优质公寓。使用昂贵材料进行的设计师装修，家具和家电保留。休闲或高收益出租的理想场所。"
        },
        "detailsLink": {
            "de": "object-14-de.html",
            "en": "object-14-en.html",
            "ru": "object-14.html",
            "zh": "object-14-zh.html"
        },
        "features": [
            "Дизайнерский ремонт",
            "Мебель в подарок",
            "Рядом озеро",
            "Консьерж-сервис"
        ],
        "id": 14,
        "images": [
            "https://images.unsplash.com/photo-1512918728675-ed5a9ecdebfd?auto=format&fit=crop&w=800&q=80"
        ],
        "location": {
            "de": "Svetlogorsk, Mayskiy ave.",
            "en": "Svetlogorsk, Mayskiy ave.",
            "ru": "Светлогорск, ул. Майский проезд, 9",
            "zh": "斯韦特洛戈尔斯克"
        },
        "price": {
            "de": "€ 149.000*",
            "en": "€ 149,000*",
            "ru": "14 900 000 ₽",
            "zh": "¥ 1,146,000*"
        },
        "stats": {
            "de": "35 m² | 3. Stock",
            "en": "35 m² | 3/7 floor",
            "ru": "35 м² | 3/7 этаж",
            "zh": "35平 | 3/7层"
        },
        "title": {
            "de": "1-Zi Wohnung, Mayskiy Viertel",
            "en": "1-room Apt, Mayskiy district",
            "ru": "1-к квартира, Майский (Светлогорск)",
            "zh": "一室公寓，五月区"
        }
    },
    {
        "description": {
            "de": "Luxuriöse Duplex-Wohnung im historischen Teil von Svetlogorsk. Hohe Decken, originelle Architektur, Fenster mit Blick auf alte Villen.",
            "en": "Luxurious duplex apartment in the historical part of Svetlogorsk. High ceilings, original architecture, windows overlook old villas. Rare offer for lovers of the atmosphere of the old town.",
            "ru": "Роскошная двухуровневая квартира в исторической части Светлогорска. Высокие потолки, оригинальная архитектура, окна выходят на старинные виллы. Редкое предложение для ценителей атмосферы старого города.",
            "zh": "斯韦特洛戈尔斯克历史区的豪华复式公寓。高天花板、原始建筑，窗户俯瞰旧别墅。为老城氛围爱好者提供的难得一见的对象。"
        },
        "detailsLink": {
            "de": "object-15-de.html",
            "en": "object-15-en.html",
            "ru": "object-15.html",
            "zh": "object-15-zh.html"
        },
        "features": [
            "Историческое здание",
            "Высокие потолки",
            "Два уровня",
            "Камин"
        ],
        "id": 15,
        "images": [
            "https://images.unsplash.com/photo-1493809842364-78817add7ffb?auto=format&fit=crop&w=800&q=80"
        ],
        "location": {
            "de": "Svetlogorsk, Sportivny lane",
            "en": "Svetlogorsk, Sportivny lane",
            "ru": "Светлогорск, ул. Спортивный переулок, 3",
            "zh": "斯韦特洛戈尔斯克"
        },
        "price": {
            "de": "€ 119.000*",
            "en": "€ 119,000*",
            "ru": "11 900 000 ₽",
            "zh": "¥ 915,000*"
        },
        "stats": {
            "de": "66 m² | 4. Stock",
            "en": "66 m² | 4/4 floor",
            "ru": "66 м² | 4/4 этаж",
            "zh": "66平 | 4/4层"
        },
        "title": {
            "de": "2-Zi Wohnung, Sportivny lane",
            "en": "2-room Apt, Sportivny lane",
            "ru": "2-к квартира, Спортивный переулок",
            "zh": "两室公寓，体育巷"
        }
    }
];

function renderProperties() {
    const container = document.getElementById('catalog-grid');
    if (!container) return;

    const lang = document.documentElement.lang || 'ru';

    let html = propertiesData.map(prop => {
        // Build image segments
        const fallback = prop.fallbackImages || [
            "https://images.unsplash.com/photo-1560185007-5f0bb1866cab?auto=format&fit=crop&w=800&q=80"
        ];
        const imgs = (prop.images && prop.images.length > 0 ? prop.images : [fallback[0]]).slice(0, 3);


        // Determine link based on language
        let detailsLink = 'https://kaliningrad.etagi.com/realtors/170927/';
        if (prop.detailsLink) {
            if (typeof prop.detailsLink === 'string') {
                detailsLink = prop.detailsLink;
            } else {
                detailsLink = prop.detailsLink[lang] || prop.detailsLink['ru'];
            }
        }

        return `
        <div class="card" onclick="trackView('object', ${prop.id})">
            <div class="card-img">
                <div class="img-slider-container">
                    ${imgs.map((img, idx) => `
                        <img src="${img}" 
                            class="slider-img ${idx === 0 ? 'active' : ''}" 
                            onerror="this.src='${fallback[idx] || fallback[0]}'" 
                            alt="${prop.title[lang]} - ${idx + 1}">
                    `).join('')}
                    <div class="hover-zones">
                        ${imgs.map((_, idx) => `<div class="hover-zone" onmouseenter="switchSliderImg(this, ${idx})"></div>`).join('')}
                    </div>
                </div>
                <div class="card-price">${prop.price[lang]}</div>
                <div class="slider-dots">
                    ${imgs.map((_, idx) => `<span class="dot ${idx === 0 ? 'active' : ''}"></span>`).join('')}
                </div>
            </div>
            <div class="card-body">
                <a href="${detailsLink}" ${prop.detailsLink ? '' : 'target="_blank"'} class="card-title">${prop.title[lang]}</a>
                <div class="card-meta"><i class="fas fa-map-marker-alt"></i> ${prop.location[lang]}</div>
                <div class="card-meta"><span>${prop.stats[lang]}</span></div>
            </div>
        </div>
    `}).join('');

    // Add Banner
    html += `
        <div class="banner-card" style="border-radius: 12px; overflow: hidden; position: relative; height: 100%; min-height: 250px; background: #000;">
            <a href="https://wa.me/79052491755" target="_blank" onclick="trackView('banner_click', 'main_banner')">
                ${bannerConfig.type === 'video' ? (
            bannerConfig.videoUrl.includes('kinescope.io') ? `
                        <iframe src="${bannerConfig.videoUrl.replace('kinescope.io/', 'kinescope.io/embed/')}?autoplay=1&muted=1&loop=1&playsinline=1&controls=0&dnt=1" 
                                style="width: 100%; height: 100%; border: none; pointer-events: none; position: absolute; top:0; left:0;" 
                                allow="autoplay; fullscreen; picture-in-picture; encrypted-in-picture; encrypted-media;"></iframe>
                        <div style="position: absolute; top:0; left:0; width:100%; height:100%; z-index:2;"></div>
                    ` : `
                        <video autoplay loop muted playsinline style="width: 100%; height: 100%; object-fit: cover; display: block;">
                            <source src="${bannerConfig.videoUrl || 'images/banner.mp4'}" type="video/mp4">
                            <img src="images/banner.jpeg" style="width: 100%; height: 100%; object-fit: cover;" alt="Special Offer">
                        </video>
                    `
        ) : `
                    <img src="images/banner.jpeg" style="width: 100%; height: 100%; object-fit: cover; display: block;" alt="Special Offer">
                `}
            </a>
        </div>
    `;

    container.innerHTML = html;

    // Track page view and banner impression
    trackView('page_view', 'home');
    trackView('banner_impression', 'main_banner');
}

// Global Tracking Function
window.trackView = function (type, id) {
    try {
        fetch('/api/stats/track', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ type, id, timestamp: new Date().toISOString() })
        });
    } catch (e) { }
};

// Global function to switch images
window.switchSliderImg = function (element, index) {
    const container = element.closest('.card-img');
    const images = container.querySelectorAll('.slider-img');
    const dots = container.querySelectorAll('.dot');

    images.forEach(img => img.classList.remove('active'));
    dots.forEach(dot => dot.classList.remove('active'));

    if (images[index]) images[index].classList.add('active');
    if (dots[index]) dots[index].classList.add('active');
};

// Global function to pre-fill the form
window.setFormValues = function (type, location) {
    const typeSelect = document.querySelector('select[name="type"]');
    const locSelect = document.querySelector('select[name="location"]');

    if (typeSelect && type) typeSelect.value = type;
    if (locSelect && location) locSelect.value = location;

    // Smooth scroll to quiz
    const quizSection = document.getElementById('quiz');
    if (quizSection) {
        quizSection.scrollIntoView({ behavior: 'smooth' });
    }
};

document.addEventListener('DOMContentLoaded', renderProperties);
